<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Site Split Table Test</title>
    <link rel="stylesheet" href="style.css"/>
    <style>
        body { padding: 20px; }
        .table th { font-size: 11px; }
        .table th[colspan] { text-align: center; }
    </style>
</head>
<body>
    <h2>Site Split Table Structure Test</h2>
    
    <table id="testTable" class="table">
        <!-- This will be populated by our test -->
    </table>

    <script>
        // Mock data to match your screenshot
        window.row_RegularExpected = {
            Inbound: { AMZN: 24, TEMP: 17, TOTAL: 41 },
            DA: { AMZN: 7, TEMP: 4, TOTAL: 11 },
            ICQA: { AMZN: 4, TEMP: 0, TOTAL: 4 },
            CRETs: { AMZN: 3, TEMP: 82, TOTAL: 85 }
        };

        window.row_RegularPresentExS = {
            Inbound: { AMZN: 19, TEMP: 12, TOTAL: 31 },
            DA: { AMZN: 7, TEMP: 3, TOTAL: 10 },
            ICQA: { AMZN: 4, TEMP: 0, TOTAL: 4 },
            CRETs: { AMZN: 3, TEMP: 77, TOTAL: 80 }
        };

        window.row_SwapOut = {
            Inbound: { AMZN: 0, TEMP: 2, TOTAL: 2 },
            DA: { AMZN: 0, TEMP: 1, TOTAL: 1 },
            ICQA: { AMZN: 0, TEMP: 0, TOTAL: 0 },
            CRETs: { AMZN: 0, TEMP: 0, TOTAL: 0 }
        };

        window.row_SwapInExpected = {
            Inbound: { AMZN: 0, TEMP: 0, TOTAL: 0 },
            DA: { AMZN: 1, TEMP: 0, TOTAL: 1 },
            ICQA: { AMZN: 0, TEMP: 0, TOTAL: 0 },
            CRETs: { AMZN: 0, TEMP: 0, TOTAL: 0 }
        };

        window.row_SwapInPresent = {
            Inbound: { AMZN: 0, TEMP: 0, TOTAL: 0 },
            DA: { AMZN: 1, TEMP: 0, TOTAL: 1 },
            ICQA: { AMZN: 0, TEMP: 0, TOTAL: 0 },
            CRETs: { AMZN: 0, TEMP: 0, TOTAL: 0 }
        };

        window.row_VTO = {
            Inbound: { AMZN: 0, TEMP: 0, TOTAL: 0 },
            DA: { AMZN: 0, TEMP: 0, TOTAL: 0 },
            ICQA: { AMZN: 0, TEMP: 0, TOTAL: 0 },
            CRETs: { AMZN: 0, TEMP: 0, TOTAL: 0 }
        };

        window.row_VETExpected = {
            Inbound: { AMZN: 2, TEMP: 0, TOTAL: 2 },
            DA: { AMZN: 0, TEMP: 2, TOTAL: 2 },
            ICQA: { AMZN: 0, TEMP: 0, TOTAL: 0 },
            CRETs: { AMZN: 0, TEMP: 10, TOTAL: 10 }
        };

        window.row_VETPresent = {
            Inbound: { AMZN: 2, TEMP: 0, TOTAL: 2 },
            DA: { AMZN: 0, TEMP: 2, TOTAL: 2 },
            ICQA: { AMZN: 0, TEMP: 0, TOTAL: 0 },
            CRETs: { AMZN: 0, TEMP: 9, TOTAL: 9 }
        };

        // Render function from site-split.js
        function renderSiteSplitTable() {
            const siteSplitTableEl = document.getElementById("testTable");
            
            const header = `
                <thead>
                  <tr>
                    <th rowspan="2">Attendance Details</th>
                    <th colspan="5">YHM2 - SDC</th>
                    <th colspan="2">ICQA</th>
                    <th colspan="3">YDD2 - IXD</th>
                    <th rowspan="2">TOTAL</th>
                  </tr>
                  <tr>
                    <th>INBOUND<br>AMZN</th>
                    <th>INBOUND<br>TEMP</th>
                    <th>DA<br>AMZN</th>
                    <th>DA<br>TEMP</th>
                    <th>SDC TOTAL</th>
                    <th>AMZN</th>
                    <th>TEMP</th>
                    <th>CRETs<br>AMZN</th>
                    <th>CRETs<br>TEMP</th>
                    <th>IXD TOTAL</th>
                  </tr>
                </thead>`;

            const rowHTML = (label, rowData) => {
                const inbound = rowData.Inbound || { AMZN: 0, TEMP: 0, TOTAL: 0 };
                const da = rowData.DA || { AMZN: 0, TEMP: 0, TOTAL: 0 };
                const icqa = rowData.ICQA || { AMZN: 0, TEMP: 0, TOTAL: 0 };
                const crets = rowData.CRETs || { AMZN: 0, TEMP: 0, TOTAL: 0 };
                
                const sdcTotal = inbound.TOTAL + da.TOTAL;
                const ixdTotal = crets.TOTAL;
                const grandTotal = sdcTotal + icqa.TOTAL + ixdTotal;

                return `
                  <tr>
                    <td>${label}</td>
                    <td>${inbound.AMZN}</td>
                    <td>${inbound.TEMP}</td>
                    <td>${da.AMZN}</td>
                    <td>${da.TEMP}</td>
                    <td>${sdcTotal}</td>
                    <td>${icqa.AMZN}</td>
                    <td>${icqa.TEMP}</td>
                    <td>${crets.AMZN}</td>
                    <td>${crets.TEMP}</td>
                    <td>${ixdTotal}</td>
                    <td>${grandTotal}</td>
                  </tr>`;
            };

            const tableBody = `
                <tbody>
                  ${rowHTML("Regular HC (Cohort Expected)", window.row_RegularExpected)}
                  ${rowHTML("Regular HC Present (Excluding Swaps)", window.row_RegularPresentExS)}
                  ${rowHTML("Shift Swap Out", window.row_SwapOut)}
                  ${rowHTML("Shift Swap Expected", window.row_SwapInExpected)}
                  ${rowHTML("Shift Swap Present", window.row_SwapInPresent)}
                  ${rowHTML("VTO", window.row_VTO)}
                  ${rowHTML("VET Expected", window.row_VETExpected)}
                  ${rowHTML("VET Present", window.row_VETPresent)}
                </tbody>`;

            siteSplitTableEl.innerHTML = header + tableBody;
        }

        // Render the table when page loads
        renderSiteSplitTable();
    </script>
</body>
</html>