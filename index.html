<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Daily Attendance – Replica</title>
  <link rel="stylesheet" href="style.css"/>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.0/papaparse.min.js"></script>
  <script defer src="app.js"></script>
</head>
<body>
  <header>
    <div class="logo">Daily Attendance – Replica</div>
    <div class="file-status-container">
      <span id="fileStatus">Ready</span>
      <button id="processBtn">Process Files</button>
    </div>
  </header>

  <main>
    <section class="card">
      <div class="row">
        <label for="dateInput">Date</label>
        <input type="date" id="dateInput">
        <label for="shiftInput">Shift</label>
        <select id="shiftInput">
          <option value="Day">Day</option>
          <option value="Night">Night</option>
        </select>
        <div class="codes">Corners: <span id="codesEl"></span></div>
      </div>
      <div class="row">
        <label><input type="checkbox" id="excludeNewHires" checked> Exclude new hires (&lt; 3 days)</label>
      </div>
    </section>

    <section class="card">
      <h2 class="card-header">Upload files</h2>
      <div class="file-upload-grid">
        <label class="file">Roster <input type="file" id="rosterFile" accept=".csv" /></label>
        <label class="file">MyTime (CAN Daily Attendance) <input type="file" id="mytimeFile" accept=".csv" /></label>
        <label class="file">CAN Daily Hours Summary (Vacation) <input type="file" id="vacFile" accept=".csv" /></label>

        <label class="file">Shift Swap — Out <input type="file" id="swapOutFile" accept=".csv" /></label>
        <label class="file">Shift Swap — In <input type="file" id="swapInFile" accept=".csv" /></label>

        <label class="file">VET / VTO (PostingAcceptance) <input type="file" id="vetFile" accept=".csv" /></label>
      </div>
    </section>

    <section class="card">
      <div class="row" style="justify-content:space-between;align-items:center;">
        <h2 class="card-header" style="margin:0">Attendance Table (replica)</h2>
        <div id="vacNote" class="dim" style="font-size:13px;display:none;">
          Vacation excluded: <a id="vacCSV" href="#" download="vacation_excluded.csv">download CSV</a>
        </div>
      </div>
      <table id="replicaTable" class="table"></table>
      <div class="row" style="margin-top:10px;gap:10px;">
        <button id="dlNoShow" class="badge-ok" style="border:0;cursor:pointer;">Download No-Show CSV</button>
        <span class="dim" style="font-size:12px;">(No-Show = scheduled after exclusions but not present)</span>
      </div>
    </section>
  </main>
</body>
</html>
