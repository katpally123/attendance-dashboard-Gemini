/* =============== BASE & THEME =============== */
* { box-sizing: border-box; }
:root{
  --bg:#0f172a;
  --card:#0b1225;
  --text:#e6e9ef;
  --muted:#9aa3b2;
  --line:#1f2a44;
  --chip:#0d1a36;
  --chipNote:#7aa2ff;
  --accent:#28a745;
  --link:#4ea7ff;
}
html,body{height:100%;}
body{
  margin:0;
  background:#0c1326;
  color:var(--text);
  font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial;
}
.hidden{display:none;}

/* =============== HEADER =============== */
header{
  display:flex;
  align-items:center;
  gap:16px;
  padding:14px 20px;
  background:#0a1122;
  border-bottom:1px solid var(--line);
  box-shadow:0 4px 12px rgba(0,0,0,.25);
  flex-wrap:wrap;
}

/* logo + title beside */
.logo{
  display:flex;
  align-items:center;
  gap:10px;
  font-weight:800;
  letter-spacing:.3px;
  font-size:clamp(0.9rem, 2vw, 1.15rem);
  text-transform:uppercase;
  flex-shrink:0;
}
.logo img{
  width:clamp(32px, 5vw, 45px);
  height:clamp(32px, 5vw, 45px);
  object-fit:contain;
  filter:drop-shadow(0 1px 2px rgba(0,0,0,.3));
}
.logo span{
  display:inline-block;
  color:var(--text);
  white-space:nowrap;
}

/* navigation tabs */
.tabs{
  display:flex;
  gap:8px;
  margin-left:8px;
  flex-wrap:wrap;
}
.tab{
  background:#111a33;
  color:var(--text);
  border:1px solid #1c2745;
  border-radius:10px;
  padding:8px 12px;
  cursor:pointer;
  transition:all .15s ease;
  font-size:clamp(0.75rem, 1.5vw, 1rem);
  white-space:nowrap;
}
.tab.active{
  outline:2px solid #5a8bff;
  background:#152044;
}
.tab:hover{background:#1a264f;}

/* right side actions */
.actions{
  margin-left:auto;
  display:flex;
  gap:10px;
  align-items:center;
}
.btn{
  background:#1a2447;
  color:var(--text);
  border:1px solid #2a3761;
  border-radius:10px;
  padding:clamp(6px, 1.5vw, 8px) clamp(8px, 2vw, 12px);
  cursor:pointer;
  transition:background .15s ease;
  font-size:clamp(0.75rem, 1.5vw, 1rem);
  white-space:nowrap;
}
.btn:hover{background:#243160;}
.btn-green{
  background:var(--accent);
  color:#fff;
  border:0;
}
.chip{
  background:#131d39;
  border:1px solid #22315a;
  border-radius:999px;
  padding:clamp(6px, 1.5vw, 8px) clamp(8px, 2vw, 12px);
  display:inline-flex;
  gap:6px;
  align-items:center;
  font-size:clamp(0.75rem, 1.5vw, 1rem);
  white-space:nowrap;
}
.chip-link{
  color:var(--text);
  text-decoration:none;
}
.chip-link:hover{
  background:#16224a;
  color:#fff;
}
.chip-muted{
  background:#101a33;
  border-color:#21315a;
  color:var(--muted);
}
.chip-note{
  font-size:12px;
  color:var(--chipNote);
  margin-left:6px;
}

/* =============== MAIN LAYOUT =============== */
main{
  max-width:1200px;
  margin:24px auto;
  padding:0 clamp(8px, 2vw, 16px);
  width:100%;
}
.card{
  background:#0b1225;
  border:1px solid var(--line);
  border-radius:14px;
  padding:clamp(12px, 2vw, 18px);
  margin-bottom:18px;
  box-shadow:0 6px 20px rgba(0,0,0,.25);
  overflow:hidden;
}
.card-title{
  margin:0 0 12px 0;
  font-size:clamp(1.1rem, 2.5vw, 1.5rem);
  word-wrap:break-word;
}
.row{display:flex;gap:12px;align-items:center;flex-wrap:wrap;}
.controls label{
  display:block;
  margin-bottom:6px;
  color:var(--muted);
  font-size:clamp(0.7rem, 1.5vw, 0.75rem);
}
.controls input,
.controls select{
  background:#0f1730;
  border:1px solid #22315a;
  border-radius:8px;
  color:var(--text);
  padding:clamp(6px, 1.5vw, 8px);
  font-size:clamp(0.8rem, 1.5vw, 1rem);
  max-width:100%;
}
.uploads{margin-top:10px;}
.file{
  display:flex;
  flex-direction:column;
  gap:6px;
  font-weight:600;
  font-size:clamp(0.8rem, 1.5vw, 1rem);
  min-width:0;
  flex:1 1 auto;
}
.file input[type=file]{
  font-weight:400;
  font-size:clamp(0.75rem, 1.5vw, 0.9rem);
  max-width:100%;
}

/* =============== TABLES =============== */
.table-wrapper{
  overflow-x:auto;
  width:100%;
  -webkit-overflow-scrolling:touch;
}
.table{
  width:100%;
  border-collapse:collapse;
  min-width:600px;
}
.table th,.table td{
  border:1px solid #1f2a44;
  padding:clamp(6px, 1.5vw, 10px);
  text-align:right;
  font-size:clamp(0.75rem, 1.5vw, 1rem);
  word-wrap:break-word;
}
.table th:first-child,.table td:first-child{text-align:left;}
.table th{background:#0f1730;}

/* =============== MISC =============== */
.mt{margin-top:10px;}
.hint{
  color:var(--muted);
  font-size:clamp(0.7rem, 1.5vw, 0.75rem);
  word-wrap:break-word;
}
.grow{flex:1;}
.nh{
  opacity:.9;
  font-size:clamp(0.75rem, 1.5vw, 1rem);
}
.ribbon{gap:10px;margin-bottom:12px;}

/* =============== OPS TABLES =============== */
.ops-section {
  margin-bottom: 30px;
}

.ops-section h3 {
  margin-bottom: 8px;
  color: var(--primary);
  font-size: clamp(1rem, 2.5vw, 1.125rem);
  word-wrap: break-word;
}

.ops-section p {
  margin-bottom: 15px;
  color: var(--muted);
  font-size: clamp(0.75rem, 1.5vw, 0.875rem);
  word-wrap: break-word;
}

.ops-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 20px;
  min-width: 500px;
}

.ops-table th,
.ops-table td {
  border: 1px solid #1f2a44;
  padding: clamp(6px, 1.5vw, 12px);
  text-align: center;
  font-size: clamp(0.75rem, 1.5vw, 1rem);
  word-wrap: break-word;
}

.ops-table th:first-child,
.ops-table td:first-child {
  text-align: left;
}

.ops-table th {
  background: #0f1730;
  font-weight: 600;
}

.ops-table tbody tr:hover {
  background: rgba(255, 255, 255, 0.05);
}

.ops-table .separator-row td {
  border: none;
  padding: 5px;
}

.ops-table .adjustment-row td {
  background: rgba(255, 255, 255, 0.02);
  font-style: italic;
}

.ops-table .total-row td {
  background: rgba(67, 85, 115, 0.3);
  font-weight: 600;
  border-top: 2px solid var(--primary);
}

.ops-table .positive {
  color: #4ade80;
  font-weight: 600;
}

.ops-table .negative {
  color: #f87171;
  font-weight: 600;
}

/* =============== RESPONSIVE MEDIA QUERIES =============== */
@media (max-width: 768px) {
  header {
    padding: 10px 12px;
    gap: 10px;
  }
  
  .tabs {
    margin-left: 0;
    width: 100%;
    justify-content: center;
  }
  
  .actions {
    margin-left: 0;
    width: 100%;
    justify-content: center;
  }
  
  main {
    margin: 12px auto;
  }
  
  .card {
    margin-bottom: 12px;
  }
  
  .row {
    gap: 8px;
  }
  
  .uploads {
    flex-direction: column;
  }
  
  .table {
    min-width: 500px;
  }
}

@media (max-width: 480px) {
  .logo {
    gap: 6px;
  }
  
  .tabs {
    gap: 4px;
  }
  
  .tab {
    padding: 6px 8px;
  }
  
  .ribbon {
    gap: 6px;
  }
  
  .table {
    min-width: 400px;
  }
}

/* =============== PRINT STYLES =============== */
@media print {
  header {
    position: static;
  }
  
  .btn, .actions, .uploads {
    display: none !important;
  }
  
  .card {
    page-break-inside: avoid;
  }
}
